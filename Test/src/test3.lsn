#using "test2"


fn TryStakeVampire(vampire : IEnemy)
{
	if(vampire.GetHP() < 25)
	{
		say "You drive a wooden stake into the vampire's heart!";
		vampire.Kill();
	}
	else
	{
		say "The vampire is too strong. You have to weaken it more.";
	}
}

fn foo(a:int, b:double)
{
	let c = a - b;
	if(a < b)
	{
		let mut d = a * 3;
		say "Hello";
		if(d < b)
		{
			let mut e = d + a;
			say "Hello"*e;
		}
	}
	let mut f = a /(b+1);
}


fn GetNames(dogs : Vector<Dog>) -> Vector<string>
{
	let names = new List<string>();
	for(i = 0` i < dogs.Length()` i = i + 1)
	{
		names.Add(dogs[i].Name);
	}
}


fn FnTestA()-> int
{
	TestA.ValueChange();
	let value = TestA.GetValue();
	if(value > 100)
	{
		TestA.ChangeB();
	}
	elsif(value < -100)
	{
		TestA.ChangeA()
	}
}



unique ScriptClass TestA
{
	mut Value : int;
	
	fn abstract ValueChange()->();
	
	fn ChangeA()
	{
		setstate StateA;
	}
	
	fn ChangeB()
	{
		setstate StateB;
	}
	
	fn GetValue() -> int
	{
		return Value;
	}
	
	auto state StateA
	{
		
		fn ValueChange()->()
		{
			Value = Value + 5;
		}
		
	}
	
	state StateB
	{
		
		
		fn ValueChange()->()
		{
			Value = Value - 3;
		}
		
	}
	
	
}